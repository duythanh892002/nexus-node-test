name: nexus testnet node

on:
  workflow_dispatch:
  schedule:
    - cron: "0 */6 * * *"  # Tá»± cháº¡y má»—i 6 tiáº¿ng

jobs:
  run-node:
    runs-on: ubuntu-latest
    timeout-minutes: 60

    steps:
      - name: ğŸ§© Checkout
        uses: actions/checkout@v4

      - name: ğŸ³ Setup Docker
        uses: docker/setup-buildx-action@v3

      - name: ğŸ“¦ Clone Nexus Node source
        run: |
          echo "ğŸ”„ Cloning Nexus Node source..."
          git clone https://github.com/arcxteam/nexus-node.git
          cd nexus-node
          echo "âœ… Repo cloned"

      - name: ğŸ—ï¸ Build Docker Image
        run: |
          cd nexus-node
          docker build -t nexus-node:latest .

      - name: ğŸš€ Run Nexus Node Testnet
        env:
          NODE_ID: 25642744
        run: |
          echo "***************************************"
          echo "ğŸš€ Starting Nexus Testnet Node"
          echo "ğŸ†” Node ID: $NODE_ID"
          echo "ğŸŒ Network: testnet"
          echo "***************************************"
          cd nexus-node
          docker run --rm -e NODE_ID=$NODE_ID nexus-node:latest
